<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>ToDoリスト – ケーススタディ | 内山 雄大</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="ローカルストレージとアクセシビリティに配慮した ToDo リストのケーススタディ。要件定義・実装・品質改善・学びをまとめました。" />

  <link rel="stylesheet" href="../style.css?v=6" />
  <style>
    .cs-container { max-width: 900px; margin: 40px auto; padding: 0 20px; }
    .cs-crumbs { font-size: 14px; color: var(--muted); margin-bottom: 12px; }
    .cs-crumbs a { color: var(--accent); text-decoration: none; }
    .cs-hero { background: var(--card); border-radius: 16px; padding: 24px; box-shadow: 0 8px 24px rgba(0,0,0,.06); }
    .cs-hero h1 { margin: 0 0 8px; }
    .cs-meta { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-top:12px; }
    .cs-tag { font-size: 13px; background:#f4f6fb; border:1px solid #e6ebf5; padding:8px 10px; border-radius:10px; }
    .cs-section { margin-top: 28px; background: var(--card); border-radius: 16px; padding: 20px; box-shadow: 0 8px 24px rgba(0,0,0,.05); }
    .cs-section h2 { margin: 0 0 12px; font-size: 22px; }
    .cs-grid-2 { display:grid; grid-template-columns: 1fr 1fr; gap:16px; }
    .cs-fig { border:1px solid #eee; border-radius:12px; overflow:hidden; background:#fff; }
    .cs-fig figcaption { font-size: 13px; color: var(--muted); padding: 8px 10px; background:#fafafa; }
    .cs-actions { display:flex; gap:12px; flex-wrap:wrap; margin-top: 12px; }
    .cs-kpi { display:grid; grid-template-columns: repeat(auto-fit,minmax(160px,1fr)); gap:12px; }
    .cs-kpi .card { padding:14px; text-align:center; }
    .demo-frame { aspect-ratio: 16/9; background:#fff; overflow:hidden; border:1px solid #eee; border-radius:12px; }
    .demo-frame iframe { width:100%; height:100%; border:0; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    @media (max-width: 800px){ .cs-grid-2 { grid-template-columns: 1fr; } }
  </style>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"CreativeWork",
    "name":"ToDoリスト",
    "description":"ローカルストレージとアクセシビリティに配慮した ToDo リストのケーススタディ。",
    "url":"../todo-app/index.html",
    "image":"../assets/todo-app.jpg",
    "creator":{"@type":"Person","name":"内山 雄大","url":"../index.html"},
    "programmingLanguage":["HTML","CSS","JavaScript"],
    "about":"状態管理 / IME対応Enterキー / フィルタリング / 永続化 / アクセシビリティ"
  }
  </script>
</head>
<body>
  <header>
    <div class="header-container">
      <a class="site-title" href="../index.html" style="text-decoration:none">← 作品一覧へ</a>
      <nav id="global-nav"></nav>
    </div>
  </header>

  <main id="main" class="cs-container">
    <p class="cs-crumbs"><a href="../index.html#works">作品</a> / ToDoリスト</p>

    <section class="cs-hero">
      <h1>ToDoリスト – ケーススタディ</h1>
      <p class="subtitle">学習用ながら実務配慮（状態管理・キーボード操作・アクセシビリティ・パフォーマンス）まで実装。</p>

      <!-- メタ情報 -->
      <div class="cs-meta">
        <div class="cs-tag"><strong>役割</strong><br>個人開発（設計・実装・デザイン）</div>
        <div class="cs-tag"><strong>期間</strong><br>2025年9月（約1日）</div>
        <div class="cs-tag"><strong>技術</strong><br>HTML / CSS / JavaScript / LocalStorage</div>
      </div>

      <!-- ボタン行動導線 -->
      <div class="cs-actions">
       <a class="link-btn" href="../todo/index.html" target="_blank" rel="noopener">デモを見る</a>
<a class="link-btn" href="https://github.com/yuuta5625/se-study/tree/main/todo" target="_blank" rel="noopener">GitHub</a>

    </section>

    <section class="cs-section" id="background">
      <h2>背景 / 目的</h2>
      <ul>
        <li>フロント実務で頻出する CRUD（Create/Read/Update/Delete）の基礎を固める。</li>
        <li>入力まわりの <strong>日本語IME</strong> を考慮した Enter ハンドリングを実装し、現実的なUXを学ぶ。</li>
        <li>状態管理（全件/未完了/完了のフィルタ）と <strong>永続化</strong>（LocalStorage）を組み合わせる設計を体得。</li>
      </ul>
    </section>

    <section class="cs-section" id="goals">
      <h2>目標と評価指標</h2>
      <div class="cs-kpi">
        <div class="card"><strong>成功基準</strong><br>追加/編集/削除/完了切替/一括クリアができる</div>
        <div class="card"><strong>UX</strong><br>空/読み込み/エラーの状態表示とフォーカス管理</div>
        <div class="card"><strong>速度</strong><br>初回 LCP 2.0s 以内（静的配信）</div>
        <div class="card"><strong>保守</strong><br>ドメインロジック分離（storage / render / actions）</div>
      </div>
    </section>

    <section class="cs-section" id="implementation">
      <h2>実装ハイライト</h2>
      <div class="cs-grid-2">
        <div>
          <ul>
            <li>データ構造：<span class="mono">{ id, title, done, createdAt }</span> を配列で保持、<span class="mono">localStorage</span> に JSON 保存（キー：<span class="mono">todo-items-v1</span>）。</li>
            <li>IME考慮の Enter 追加：<span class="mono">keydown</span> で <span class="mono">e.isComposing</span> を無視、フォールバックで <span class="mono">keyup keyCode===229</span> を考慮。</li>
            <li>フィルタ：<span class="mono">all / active / done</span> をボタンで切替、選択状態をUIとURLハッシュに同期。</li>
            <li>編集：タイトルのインライン編集（Escでキャンセル、Enterで確定、空白は不可）。</li>
            <li>アクセシビリティ：ボタンはネイティブ要素、ラベル/aria-pressed、フォーカスリングを尊重。</li>
            <li>競合抑止：連打での二重追加防止、描画は差分更新（<span class="mono">documentFragment</span> / 最小限のDOM操作）。</li>
            <li>一括操作：完了をまとめて削除、全件の完了状態トグル。</li>
            <li>レスポンシブ：リスト幅の最大化、空状態は中央にメッセージ。</li>
          </ul>
        </div>
        <figure class="cs-fig demo-frame">
          <iframe src="../todo-app/index.html" title="ToDoリスト デモ" loading="lazy"></iframe>
        </figure>
      </div>
    </section>

    <section class="cs-section" id="quality">
      <h2>品質・アクセシビリティ</h2>
      <ul>
        <li>キーボード操作：Enterで追加、Tab移動、Space/Enterでトグル、Deleteで削除（確認付）。</li>
        <li>ライブリージョン：追加/削除時に非視覚ユーザーへ通知（<span class="mono">aria-live="polite"</span>）。</li>
        <li>状態の明示：空/フィルタ結果なし/全選択完了時のメッセージ表示。</li>
        <li>永続化：ブラウザ再訪時に前回の状態を復元。スキーマ変更時はマイグレーション関数で吸収。</li>
      </ul>
    </section>

    <section class="cs-section" id="results">
      <h2>成果 / 学び</h2>
      <ul>
        <li>日本語IMEに配慮した Enter キー処理を具体的に習得（<span class="mono">isComposing</span> / 229 フォールバック）。</li>
        <li>小規模でもドメインロジック分離が可読性・保守性に有効であることを確認。</li>
        <li>アクセシビリティの基本（ロール・ラベル・フォーカス・ライブリージョン）を実装で体得。</li>
      </ul>
      <p class="subtitle">次の改善候補：ドラッグ&ドロップ並び替え、検索・タグ、Undo（1段）、E2Eテスト、ダークモード。</p>
    </section>

  </main>

  <footer>
    <p>© 2025 内山 雄大</p>
  </footer>

  <script src="../main.js" defer></script>
</body>
</html>
